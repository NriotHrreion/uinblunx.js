!function(e){"use strict";function r(e){throw new Error("[uinblunx.js] "+e)}var i=function(e){return i.prototype.mode=e.mode,i.prototype.config=e.conf,i.prototype.init(),i.prototype};i.prototype={init:function(){var e=this.mode,i=this.config;switch(e){case"media":void 0!==navigator.mediaDevices?this.userMedia=navigator.mediaDevices.getUserMedia(i):(navigator.mediaDevices=function(t){var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return n?new Promise(function(e,i){n.call(navigator,t,e,i)}):(r("getUserMedia is not implemented in this browser."),Promise.reject(new Error("getUserMedia is not implemented in this browser.")))},this.userMedia=navigator.mediaDevices.getUserMedia(this.config));break;case"speech":var t,n="undefined"!=typeof SpeechRecognition?(t=new SpeechRecognition,new SpeechGrammarList):(t=new webkitSpeechRecognition,new webkitSpeechGrammarList);i.grammar&&n.addFormString(i.grammar,1),t.continuous=i.continuous||!1,t.interimResults=i.interimResults||!1,t.lang=i.lang||navigator.language,t.maxAlternatives=1,t.grammar=n,this.recognition=t}},load:function(t){var e=this.mode;try{switch(e){case"media":this.userMedia.then(e=>{t(e).bind(this)});break;case"speech":var n=this.recognition;n.start(),n.onresult=e=>{var i=e.results.length-1;e.results&&e.results[i][0]&&(e.results[i][0].isFinal&&n.stop(),t(e.results[i][0].transcript).bind(this))}}}catch{r("You must init Uinblunx.js")}},on:function(e,i){"speech"==this.mode?this.recognition[e="on"+e]=e=>{i(e).bind(this)}:r("The Listener just for speech mode")}},"undefined"!=typeof module&&module.exports&&(module.exports=i),"function"==typeof define&&define(function(){return i}),e.Uin=i}(this);